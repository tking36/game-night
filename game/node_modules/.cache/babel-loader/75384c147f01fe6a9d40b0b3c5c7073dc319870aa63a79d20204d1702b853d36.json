{"ast":null,"code":"import { ADD_WIN, SUB_WIN, PLAYER_LIST_REQUEST, PLAYER_LIST_SUCCESS, PLAYER_LIST_FAIL } from \"../constants/playerConstants\";\nconst initialState = {\n  loading: false,\n  players: [],\n  error: null\n};\nconst winReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  switch (action.type) {\n    case PLAYER_LIST_REQUEST:\n      return {\n        ...state,\n        loading: true\n      };\n    case PLAYER_LIST_SUCCESS:\n      return {\n        ...state,\n        loading: false,\n        players: action.payload\n      };\n    case PLAYER_LIST_FAIL:\n      return {\n        ...state,\n        loading: false,\n        error: action.payload\n      };\n    case ADD_WIN:\n      return {\n        ...state,\n        players: state.players.map(player => player._id === action.payload._id ? action.payload : player)\n      };\n    case SUB_WIN:\n      return {\n        ...state,\n        players: state.players.map(player => player._id === action.payload._id ? action.payload : player)\n      };\n    default:\n      return state;\n  }\n};\nexport default winReducer;\n\n// import produce from \"immer\";\n// import { ADD_WIN, SUB_WIN, PLAYER_LIST_FAIL, PLAYER_LIST_SUCCESS, PLAYER_LIST_REQUEST} from \"../constants/playerConstants\";\n\n// export const playerReducer = (state = { players: [] }, action) => {\n//   switch (action.type) {\n//     case PLAYER_LIST_REQUEST:\n//       return { loading: true, players: [] };\n//     case PLAYER_LIST_SUCCESS:\n//       return { loading: false, players: action.payload };\n//     case PLAYER_LIST_FAIL:\n//       return {loading:false, error: action.payload };\n//     default:\n//       return state;\n//   }\n// };\n\n// export const winReducer = (state = { players: [] }, action) => {\n//   switch (action.type) {\n//     case ADD_WIN:\n//       return produce(state, (draftState) => {\n//         const player = draftState.players.find(\n//           (p) => p._id === action.payload._id\n//         );\n//         if (player) {\n//           player.wins += 1;\n//         }\n//       });\n//     case SUB_WIN:\n//       return produce(state, (draftState) => {\n//         const player = draftState.players.find(\n//           (p) => p._id === action.payload._id\n//         );\n//         if (player && player.wins > 0) {\n//           player.wins -= 1;\n//         }\n//       });\n//     default:\n//       return state;\n//   }\n// };","map":{"version":3,"names":["ADD_WIN","SUB_WIN","PLAYER_LIST_REQUEST","PLAYER_LIST_SUCCESS","PLAYER_LIST_FAIL","initialState","loading","players","error","winReducer","state","arguments","length","undefined","action","type","payload","map","player","_id"],"sources":["/Users/taylorking/dev/projects/redux/game-night/game/src/reducers/playerReducer.js"],"sourcesContent":["import { ADD_WIN, SUB_WIN, PLAYER_LIST_REQUEST, PLAYER_LIST_SUCCESS, PLAYER_LIST_FAIL } from \"../constants/playerConstants\";\n\nconst initialState = {\n  loading: false,\n  players: [],\n  error: null\n};\n\nconst winReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case PLAYER_LIST_REQUEST:\n      return { ...state, loading: true };\n    case PLAYER_LIST_SUCCESS:\n      return { ...state, loading: false, players: action.payload };\n    case PLAYER_LIST_FAIL:\n      return { ...state, loading: false, error: action.payload };\n    case ADD_WIN:\n      return {\n        ...state,\n        players: state.players.map(player =>\n          player._id === action.payload._id ? action.payload : player\n        )\n      };\n    case SUB_WIN:\n      return {\n        ...state,\n        players: state.players.map(player =>\n          player._id === action.payload._id ? action.payload : player\n        )\n      };\n    default:\n      return state;\n  }\n};\n\nexport default winReducer;\n\n\n\n\n// import produce from \"immer\";\n// import { ADD_WIN, SUB_WIN, PLAYER_LIST_FAIL, PLAYER_LIST_SUCCESS, PLAYER_LIST_REQUEST} from \"../constants/playerConstants\";\n\n// export const playerReducer = (state = { players: [] }, action) => {\n//   switch (action.type) {\n//     case PLAYER_LIST_REQUEST:\n//       return { loading: true, players: [] };\n//     case PLAYER_LIST_SUCCESS:\n//       return { loading: false, players: action.payload };\n//     case PLAYER_LIST_FAIL:\n//       return {loading:false, error: action.payload };\n//     default:\n//       return state;\n//   }\n// };\n\n// export const winReducer = (state = { players: [] }, action) => {\n//   switch (action.type) {\n//     case ADD_WIN:\n//       return produce(state, (draftState) => {\n//         const player = draftState.players.find(\n//           (p) => p._id === action.payload._id\n//         );\n//         if (player) {\n//           player.wins += 1;\n//         }\n//       });\n//     case SUB_WIN:\n//       return produce(state, (draftState) => {\n//         const player = draftState.players.find(\n//           (p) => p._id === action.payload._id\n//         );\n//         if (player && player.wins > 0) {\n//           player.wins -= 1;\n//         }\n//       });\n//     default:\n//       return state;\n//   }\n// };"],"mappings":"AAAA,SAASA,OAAO,EAAEC,OAAO,EAAEC,mBAAmB,EAAEC,mBAAmB,EAAEC,gBAAgB,QAAQ,8BAA8B;AAE3H,MAAMC,YAAY,GAAG;EACnBC,OAAO,EAAE,KAAK;EACdC,OAAO,EAAE,EAAE;EACXC,KAAK,EAAE;AACT,CAAC;AAED,MAAMC,UAAU,GAAG,SAAAA,CAAA,EAAkC;EAAA,IAAjCC,KAAK,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAGN,YAAY;EAAA,IAAES,MAAM,GAAAH,SAAA,CAAAC,MAAA,OAAAD,SAAA,MAAAE,SAAA;EAC9C,QAAQC,MAAM,CAACC,IAAI;IACjB,KAAKb,mBAAmB;MACtB,OAAO;QAAE,GAAGQ,KAAK;QAAEJ,OAAO,EAAE;MAAK,CAAC;IACpC,KAAKH,mBAAmB;MACtB,OAAO;QAAE,GAAGO,KAAK;QAAEJ,OAAO,EAAE,KAAK;QAAEC,OAAO,EAAEO,MAAM,CAACE;MAAQ,CAAC;IAC9D,KAAKZ,gBAAgB;MACnB,OAAO;QAAE,GAAGM,KAAK;QAAEJ,OAAO,EAAE,KAAK;QAAEE,KAAK,EAAEM,MAAM,CAACE;MAAQ,CAAC;IAC5D,KAAKhB,OAAO;MACV,OAAO;QACL,GAAGU,KAAK;QACRH,OAAO,EAAEG,KAAK,CAACH,OAAO,CAACU,GAAG,CAACC,MAAM,IAC/BA,MAAM,CAACC,GAAG,KAAKL,MAAM,CAACE,OAAO,CAACG,GAAG,GAAGL,MAAM,CAACE,OAAO,GAAGE,MAAM;MAE/D,CAAC;IACH,KAAKjB,OAAO;MACV,OAAO;QACL,GAAGS,KAAK;QACRH,OAAO,EAAEG,KAAK,CAACH,OAAO,CAACU,GAAG,CAACC,MAAM,IAC/BA,MAAM,CAACC,GAAG,KAAKL,MAAM,CAACE,OAAO,CAACG,GAAG,GAAGL,MAAM,CAACE,OAAO,GAAGE,MAAM;MAE/D,CAAC;IACH;MACE,OAAOR,KAAK;EAAC;AAEnB,CAAC;AAED,eAAeD,UAAU;;AAKzB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}